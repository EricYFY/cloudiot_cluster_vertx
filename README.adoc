# README

## Compilation : 
“mvn clean package” à la racine du dossier 

## RPI Serveur :
Get in the core-examples/target/classes/java and execute :
vertx run io.vertx.example.core.ha.Server -ha -cp target/classes -cluster-host  [ADDRESSE_IP_RPI]

## RPI Backup :
Get in the core-examples/target/classes/java and execute :
vertx bare -cp target/classes/ -cluster-host [ADDRESSE_IP_RPI] 

## Tester :
Pour tester, ouvrir sur http://[ADDRESSE_IP_RPI]:8080
Killer le serveur avec “kill -9 [N°PID]” → on aperçoit que le serveur change de RPI (on peut trouver le PID du verticle en lançant “jps | grep Launcher”

## Référence : 
https://github.com/vert-x3/vertx-examples/tree/master/core-examples 

## Cluster vertX + rabbitMQ 
In order to make the cluster work follow this step : 

### 1. Uninstall OpenJDK and / or old version of Oracle Java 
```
sudo apt-get purge openjdk*
sudo apt-get purge java7*
sudo apt-get autoremove
```

### 2. Install latest version of Oracle Java
```
sudo apt-key adv --recv-key --keyserver keyserver.ubuntu.com EEA14886

```
Go to this file
```
sudo vim /etc/apt/sources.list
```
Add the following lines 
```
deb http://ppa.launchpad.net/webupd8team/java/ubuntu trusty main
deb-src http://ppa.launchpad.net/webupd8team/java/ubuntu trusty main
```

Install Java 
```
sudo apt-get update
sudo apt-get install oracle-java8-installer
sudo apt-get install oracle-java8-set-default
```

Check success 
```
java -version
```


